
<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<title>Linux高级程序_进程管理1 - 麦子学院</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="">
<meta name="description" content="">
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="baidu-site-verification" content="TlN38QiORE" />
<link href="/static/css/base.css" rel="stylesheet">
<link href="/static/css/microoh-v5.css" rel="stylesheet">
<link href="/static/css/flat-ui.css" rel="stylesheet">
<link href="/static/css/animate.css" rel="stylesheet">
<link href="/static/css/develop.css" rel="stylesheet">
<link rel="shortcut icon" type="image/x-icon" href="/static/images/favicon.ico" />

<link rel="stylesheet" href="/static/css/jquery.fileupload.css">
<link rel="stylesheet" href="/static/css/imgareaselect-animated.css">

<!--[if lt IE 9]>
<script src="/static/js/html5shiv.min.js"></script>
<script src="/static/js/respond.min.js"></script>
<![endif]-->
</head>

<body>
<div class="microoh-main">
  
      <header class="navbar navbar-default navbar-fixed-top affix" data-offset-top="64">  
  
          <div class="container">
              <div class="navbar-header">
                  <a class="navbar-brand" href="/" title="麦子学院"><img src="/static/images/logo.png"><img src="/static/images/logo-font.png"></a>
              </div>
              <div class="collapse navbar-collapse" id="microoh-navbar-collapse">
                  <ul class="nav navbar-nav navbar-left">
                      <li class="visible-xs visible-sm"><a href="/">首页</a></li>
                      <li><a href="/course/">企业直通班</a></li>
                      <li><a href="/academic/home/">院校专区</a></li>
                      <li class="visible-md visible-lg">
                          
                          <a href="/user/goto/bbs/">论坛</a>
                          
                      </li>
                      <li><a href="/common/apppage/">移动APP</a></li>
                  </ul>
                  <form class="navbar-form navbar-left" role="search" onsubmit="return false">
                      <div class="form-group">
                          <i class="v5-icon v5-icon-search"></i>
                          <input type="text" class="form-control" id="search" placeholder="搜索你感兴趣的课程">
                      </div>
                      <div class="search-dp" id="hotkeyword">
                          <!--推荐关键词-->
                          <div class="hotkeyword">
                              <h4>推荐搜索关键词</h4>
                              <ul class="cf">
                                  <li>加载中……</li>
                              </ul>
                          </div>
                      </div>                     
                  </form>
                  <div class="v5-topbar-login">
                      
                      <div class="v5-topbar-login-on cf visible-md visible-lg">
                          <dl>
                              <dt>
                                  <a href="" class="dt-username"><span>24565090</span><i class="v5-icon v5-icon-rd"></i></a>
                              </dt>
                          </dl>
                          
                          <a href="/user/message/" class="dt-usermsg"><i class="v5-icon v5-icon-nomsg"></i></a>
                          
                      </div>
                      <div class="v5-topbar-login-on cf visible-xs visible-sm">
                        <a href="/user/student/" class="user-t"><img src="/uploads/avatar/default_big.png"></a>
                      </div>
                      
                  </div>
                  <div class="navbar-search-btn visible-xs visible-sm">
                    <a href="/common/mobile/search/" class="sch"></a>
                  </div>
              </div>
              <div class="search-dp" id="keyword-group">
                <!--搜索结果-->
                <div class="keyword-group scroll-pane">
                    <dl class="">
                        <dt>职业课程</dt>
                        <dd class="careercourses cf"></dd>
                    </dl>
                    <dl class="">
                        <dt>课程</dt>
                        <dd class="courses cf"></dd>
                    </dl>
                </div>
            </div>
          </div>
      </header>

  
   
    <div class="container visible-md visible-lg">
        <ol class="breadcrumb">
            <li><a href="/">首页</a></li>
            
            <li><a href="/course/">企业直通班</a></li>
            <li><a href="/course/1/">嵌入式驱动开发</a></li>
            
            <li class="active">选修 - Linux应用开发之进程间通信</li>
        </ol>
    </div>

   
   <script src="/static/js/jwplayer/jwplayer.js"></script>
   <script type="text/javascript">jwplayer.key="7Vw/DV+YTvywIPbQGR2p1eDMAYm2IZNKX0WhEQwVeJs=";</script>
   <script src="/static/js/jwplayer/jwpsrv.js"></script>

   <div class="container">
    <div class="course-play">
      <dl class="course-lead">
        <dt>选修 - Linux应用开发之进程间通信</dt>
        <dd>课程描述：进程，程序灵魂的载体，掌握了linux的进程及特性，以及他们之间的信息传递，将是成为一名合格的linux应用开发工程师必须的技能。</dd>
      </dl>
      <div class="course-play-container">
        <div class="row popover-test-container">
          <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 course-play-box" style="background-color: #000">
              <div id="microohvideo">视频加载中...</div>
            <script type="text/javascript">
                var player = jwplayer("microohvideo").setup({
                    html5player:"/static/js/jwplayer/jwplayer.html5.js",
                    flashplayer:"/static/js/jwplayer/jwplayer.flash.swf",
                    file: "http://ocs.maiziedu.com/c5e66d2c89bc47509277b81ab7ead90a.mp4",
					primary: "flash",
                    startparam:'start',
                    height: "100%",
			    	width: "100%",
                    autostart:true,
                    logo: {
                        file: "/static/images/logo-player.png",
                        link: ""
                    }
                });
		    </script>
          </div>
          <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 course-play-list">
            <h1>课程章节</h1>
            <div id="playlist" class="playlist scroll-pane" style="overflow:hidden;">
              <ul>
                
                <li class="active_null">
                

                  <a href="/lesson/256/"  class="active" lesson_id=256>1.&nbsp;Linux高级程序_进程管理1</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/257/"  lesson_id=257>2.&nbsp;Linux高级程序_进程管理2</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/258/"  lesson_id=258>3.&nbsp;Linux高级程序_进程管理3</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/261/"  lesson_id=261>4.&nbsp;Linux高级程序_进程管理4</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/263/"  lesson_id=263>5.&nbsp;Linux高级程序_进程管理5</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/265/"  lesson_id=265>6.&nbsp;Linux高级程序_进程管理6</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/268/"  lesson_id=268>7.&nbsp;Linux高级程序_进程管理_Daemon1</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/272/"  lesson_id=272>8.&nbsp;Linux高级程序_进程管理_Daemon2</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/275/"  lesson_id=275>9.&nbsp;Linux高级程序_进程管理_Daemon3</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/277/"  lesson_id=277>10.&nbsp;Linux高级程序_进程间通信_Pipe1</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/279/"  lesson_id=279>11.&nbsp;Linux高级程序_进程间通信_Pipe2</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/282/"  lesson_id=282>12.&nbsp;Linux高级程序_进程间通信_Pipe3</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/285/"  lesson_id=285>13.&nbsp;Linux高级程序_进程间通信_Fifo1</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/288/"  lesson_id=288>14.&nbsp;Linux高级程序_进程间通信_Fifo2</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/289/"  lesson_id=289>15.&nbsp;Linux高级程序_进程间通信_Signal1</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/292/"  lesson_id=292>16.&nbsp;Linux高级程序_进程间通信_Signal2</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/294/"  lesson_id=294>17.&nbsp;Linux高级程序_进程间通信_Signal3</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/297/"  lesson_id=297>18.&nbsp;Linux高级程序_进程间通信_Signal3</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/300/"  lesson_id=300>19.&nbsp;Linux高级程序_进程间通信_SHM1</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/304/"  lesson_id=304>20.&nbsp;Linux高级程序_进程间通信_SHM2</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/306/"  lesson_id=306>21.&nbsp;Linux高级程序_进程间通信_SHM3</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/309/"  lesson_id=309>22.&nbsp;Linux高级程序_进程间通信_MsgQueue1</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/310/"  lesson_id=310>23.&nbsp;Linux高级程序_进程间通信_MsgQueue2</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/312/"  lesson_id=312>24.&nbsp;Linux高级程序_进程间通信_Semaphore1</a>

                

                

                </li>
                
                <li >
                

                  <a href="/lesson/314/"  lesson_id=314>25.&nbsp;Linux高级程序_进程间通信_Semaphore2</a>

                

                

                </li>
                
              </ul>
            </div>
          </div>
        </div>
        <div class="row mc-interact">
          <div class="col-xs-12 col-sm-12 col-md-7 col-lg-7">
            <div class="mc-interact-save">
              <a href="" class="favorite">
                
                    <i class="v5-icon v5-icon-save"></i>
                    <span>收藏</span>
                
              </a>
              <a href="javascript:void(0)" class="downloadv">
                <i class="v5-icon v5-icon-download"></i>
                <span>下载</span>
              </a>
            </div>
            <div class="mc-interact-share">
              <dl>
                <dt class="cf">
<!--                   <a href="" class="v5-icon v5-icon-sina"></a>
                  <a href="" class="v5-icon v5-icon-qqzone"></a>
                  <a href="" class="v5-icon v5-icon-sina"></a> -->
                  <div class="bdsharebuttonbox">
                    <a title="分享到QQ空间" href="javascript:void(0);" class="v5-icon v5-icon-qqzone share" id="qq" data-cmd="qzone">
                    </a>
                    <a title="分享到新浪微博" href="javascript:void(0);" class="v5-icon v5-icon-sina share" id="sina" data-cmd="tsina">
                    </a>
                    <a title="分享到微信" href="javascript:void(0);" class="v5-icon v5-icon-weixin share" id="weixin" data-cmd="weixin" data-toggle="modal" data-target="#wxfx">
                    </a>
                  </div>
                </dt>
                <dd>分享给朋友</dd>
              </dl>
            </div>
          </div>
          <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
            <p>已有20位同学与你并肩作战</p>
          </div>
        </div>

    <!--微信分享-->
<div class="modal fade" id="wxfx" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog wxfx-modal">
    <div class="modal-content">
      <div class="modal-body">
        <p class="text-right"><a href="" class="v5-close"><img src="/static/images/c.png"></a></p>
        <div class="wxfx">
          <h1 class="text-micv5">分享到微信</h1>
          <h4>用微信“扫一扫”下方的二维码，即可吧视频分享给您的好友或朋友圈。</h4>
          <div class="wxfx-table">
            <div class="wxfx-table-cell cell-l">
              <h4><a href="/lesson/256" class="text-micv5">选修 - Linux应用开发之进程间通信</a></h4>
            </div>
            <div class="wxfx-table-cell cell-r">
              <div id="qrcodeTable"></div>
            </div>
          </div>
          <div class="wxfx-step text-center">
            <img src="/static/images/weixinfx.png">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

        <div class="row course-play-info visible-md visible-lg">
          <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 aside-l">
          	<ul class="course-play-tabs" role="tablist">
              <li class="active"><a href="#comm" role="tab" data-toggle="tab">学习交流</a></li>
<!--               <li class="visible-md visible-lg"><a href="#exercise" role="tab" data-toggle="tab">在线练习</a></li> -->
              <li class="visible-md visible-lg"><a href="#submit" role="tab" data-toggle="tab">作业提交</a></li>
              
            </ul>
            <div class="tab-content">
                              <div class="tab-pane active" id="comm">
                
                <div class="media">
                  <a class="pull-left" href="javascript:void(0);">
                    <img class="media-object" src="/uploads/avatar/default_small.png">
                  </a>
                  <div class="media-body">
                    <h4 class="media-heading">
                      <span class="user-name">24565090</span>
                    </h4>
                    <div class="comment-input">
                      <textarea class="form-control comment_area" rows="3" placeholder="学习过程中有什么疑问就在这里提出来吧，大家和老师都会帮助你的哦!"></textarea>
                      <div class="btnbox">
                        <button type="button" class="btn btn-micv5 btn-lg-fts" id ="release_com" >发布评论</button>
                      </div>
                    </div>
                  </div>
                </div>
                
                  <div id="comment_list">
                  <p id="load_message" class="text-center no-message">沙发空缺中，还不快抢！</p>

                  </div>
                    <input type="hidden" id="loadmore_page" value = "1">
              </div>

              <input type="hidden" id="pic_url" value = "/uploads/avatar/default_big.png">
              <input type="hidden" id="cur_name" value = "24565090">
              <input type="hidden" id="is_teacher" value = "False">
              <input type="hidden" id="use_id" value = "5307">

                <!--               <div class="tab-pane" id="exercise">
              	在线练习
              </div> -->
                
                <div id="submit" class="tab-pane">
<div id="description_div">为了巩固自己的知识，请把本章节的知识点实践一下然后交给老师看看吧</div>
        

        <!--开始上传-->
        <div class="btn-box job-sub">
          <!-- <button class="btn btn-micv5 btn-v5-lg" type="button">开始上传</button> -->
     <!--       <input type="file" name="Filedata" id="file_upload"> -->
          <span class="btn sub-work fileinput-button">
              <span>选择作业</span>
              <input id="file_upload" type="file" name="Filedata">
          </span>

        </div>

<div class="progress work-pro" id="progress">
        <div class="progress-bar progress-bar-success"></div>
</div>  
        <div class="success-tips"><span>上传此章作业（ZIP、RAR）</span></div>
        <div class="tips-error bg-danger text-danger">错误提示</div>
        <div class="success-tips success-msg">
        <i class="v5-icon v5-icon-success"></i><span>此章节的作业已上传成功，继续努力！</span></div>



</div>

                
                
            </div>
          </div>
          <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 aside-r">
                          <div class="v5-box">
              <h1>讲师介绍</h1>
              <div class="media teacher">
                <a class="pull-left hascourse" href="/lesson/hascourse/5/">
                  <img src="/uploads/avatar/2015/01/73125e3a-947b-11e4-a782-00163e02100b_middle.jpg">
                </a>
                <div class="media-body">
                  <h4 class="media-heading">Sundy</h4>
                  <p></p>
                  <a href="/lesson/hascourse/5/" class="btn btn-micv5">查看他的课程</a>
                </div>
              </div>
              <article>
              	国内知名的移动互联网领域的架构师，讲师 。10年移动开发经验。架构师，丰富的海外工作经验及管理经验。
              </article>
            </div>
              <div class="v5-box">
  <div id="related-article" data-url="http://forum.maiziedu.com">
    <h1>相关文章</h1>
  </div>

  <div id="about-job" data-url="http://forum.maiziedu.com">
    <h1>相关职位</h1>
    <ul class="about-job-ul">
    
	   <li>
	    <span class="dict">
		    <div class="li-div">
		    	<div class="mb10">
		            <a target="_blank" title="高级嵌入式软件工程师" href="http://www.lagou.com/jobs/499733.html?utm_source=AD__maizieduQrs_words&amp;utm_medium=front&amp;utm_campaign=toufang">高级嵌入式软件工程师</a> 
		            &nbsp;
		            <span class="c9">[上海]</span>
				</div>
				<span class="s2"><em class="c7">公司名称：</em>时云医疗</span><br>
				<span class="s1"><em class="c7">年薪：</em>39万</span>
				<span class="s1 m60"><em class="c7">规模：</em>15-50人</span><br>
				<span class="s1"><em class="c7">最低学历：</em>本科</span>
				<span class="s1 m60"><em class="c7">阶段：</em>初创型(天使...</span><br>
				<span class="s2"><em class="c7">职位诱惑：</em>行业前景广阔、工作氛围愉悦、待遇不错</span>
			</div>
	    </span>
		</li>
	
	   <li>
	    <span class="dict">
		    <div class="li-div">
		    	<div class="mb10">
		            <a target="_blank" title="嵌入式工程师" href="http://www.lagou.com/jobs/499935.html?utm_source=AD__maizieduQrs_words&amp;utm_medium=front&amp;utm_campaign=toufang">嵌入式工程师</a> 
		            &nbsp;
		            <span class="c9">[青岛]</span>
				</div>
				<span class="s2"><em class="c7">公司名称：</em>Yeelink</span><br>
				<span class="s1"><em class="c7">年薪：</em>19.5万</span>
				<span class="s1 m60"><em class="c7">规模：</em>15-50人</span><br>
				<span class="s1"><em class="c7">最低学历：</em>本科</span>
				<span class="s1 m60"><em class="c7">阶段：</em> 成长型(A轮)</span><br>
				<span class="s2"><em class="c7">职位诱惑：</em>期权奖励，一年带薪年假10天，多种outing</span>
			</div>
	    </span>
		</li>
	
	   <li>
	    <span class="dict">
		    <div class="li-div">
		    	<div class="mb10">
		            <a target="_blank" title="嵌入式软件开发工程师" href="http://www.lagou.com/jobs/209303.html?utm_source=AD__maizieduQrs_words&amp;utm_medium=front&amp;utm_campaign=toufang">嵌入式软件开发工程师</a> 
		            &nbsp;
		            <span class="c9">[北京]</span>
				</div>
				<span class="s2"><em class="c7">公司名称：</em>购阿购</span><br>
				<span class="s1"><em class="c7">年薪：</em>11.7万</span>
				<span class="s1 m60"><em class="c7">规模：</em>50-150人</span><br>
				<span class="s1"><em class="c7">最低学历：</em>本科</span>
				<span class="s1 m60"><em class="c7">阶段：</em> 成长型(B轮)</span><br>
				<span class="s2"><em class="c7">职位诱惑：</em>期权股票、晋升机会、年终奖、年度评优等</span>
			</div>
	    </span>
		</li>
	
    </ul>
  </div>
</div>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<input type="hidden" value="256" id="lesson-id">
<!--二维码-->
<div class="ewm" id="ewm">
  <p>APP可离线下载该课程</p>
  <img src="/static/images/appcode.png">
  <p>扫描二维码下载APP</p>
</div>

   
       <div class="v5-footer">
           <div class="container">
               <div class="v5-footer-container">
                   <div class="v5-footer-bottom">
                       <p>© 2012-2015 <a href="http://www.maiziedu.com">www.maiziedu.com</a> | 服务条款 | 蜀ICP备13014270号-4 Version 4.0.6 release20150115.1</p>
                   </div>
               </div>
           </div>
       </div>
       </div>
   




<div class="show-card-wrap fade">
  <div class="show-card">
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
          <tr>
              <td class="td-userhd"><span class="user-pic"><img src="/uploads/avatar/default_big.png"></span></td>
              <td align="right" class="text-align-r">
                  <a href="/user/student/" class="link-default">24565090</a>
                  <div class="user-email">
                  
                    
                      24565090@qq.com
                    
                  
                  </div>
              </td>
          </tr>
          <tr>
              <td colspan="2"><a href="/user/student/" class="btn btn-micv5 btn-md btn-block">进入个人中心</a></td>
          </tr>
          <tr>
              <td colspan="2"><a href="/user/logout/" class="link-cancel">注销</a></td>
          </tr>
      </table>
  </div>
</div>


<script src="/static/js/jquery-1.11.1.min.js"></script>
<script src="/static/js/jquery-migrate-1.2.1.min.js"></script>
<script src="/static/js/jquery.featureCarousel.min.js"></script>
<script src="/static/js/jquery.carouFredSel.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/jquery.placeholder.js"></script>
<script src="/static/js/jquery.mousewheel.js"></script>
<script src="/static/js/jquery.jscrollpane.min.js"></script>
<script src="/static/js/mz-jPages.min.js"></script>
<script src="/static/js/Swiper.js"></script>
<script src="/static/js/microoh-v5.js"></script>
<script src="/static/js/ie10-viewport-bug-workaround.js"></script>
<script src="/static/js/flat-ui.min.js"></script>
<script src="/static/js/application.js"></script>
<script src="/static/js/mz-common.js"></script>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fe3879546912fd4b2d6e909e064d49262' type='text/javascript'%3E%3C/script%3E"));
</script>


<!-- temp -->
<!-- Live800在线客服图标:固定[固定图标] 开始-->
<div style="position: fixed;top: 300px;right: 0px;">
 <script language="javascript" src="http://chat10.live800.com/live800/chatClient/staticButton.js?jid=2057226289&companyID=430494&configID=230400&codeType=custom"></script>
</div>
<!-- 在线客服图标:固定 结束-->
<script language="javascript" src="http://chat10.live800.com/live800/chatClient/monitor.js?jid=2057226289&companyID=430494&configID=219055&codeType=custom"></script>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-51873363-14']);
 _gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
 })();

</script>  <!-- END SITE FOOTER -->

    <script src="/static/js/jquery.mousewheel.js"></script>
<!--    <script src="/static/js/jquery.jscrollpane.min.js"></script>-->
    <script src="/static/js/jquery.cookie.js"></script>
    <script src="/static/js/mz-comment.js"></script>
    <script src="/static/js/jquery.ui.widget.js"></script>
    <script src="/static/js/jquery.iframe-transport.js"></script>
    <script src="/static/js/jquery.fileupload.js"></script>
    <script src="/static/js/jquery.fileupload-process.js"></script>
    <script src="/static/js/jquery.fileupload-validate.js"></script>
    <script type="text/javascript" src="/static/js/jquery.qrcode.js"></script>
    <script type="text/javascript" src="/static/js/qrcode.js"></script>
    <script>
        var uploading = false;
        $(function(){
            cur_url = window.location.href
            $('#qrcodeTable').qrcode({
                  render  : "canvas",
                  text  : cur_url,
                  height : 156,
                  width : 156,
                  typeNumber : -1,
                  correctLevel : QRErrorCorrectLevel.H,//纠错等级
                  background : "#f1f1f1",//背景颜色
                  foreground  : "#000000"
            });

    lessid =$("#lesson-id").val();
    $('#file_upload').fileupload({
        dropZone: null,
        url: '/lesson/student/job/upload/',
        formData:{'lesson_id':lessid},
        add:function(e,data){
          var uploadErrors = [];
          var acceptFileTypes = /^(zip|rar)$/i;
          var filesize = data.originalFiles[0]['size']/(1024)/(1024);
          Ntype = data.originalFiles[0]['name'];
          Ntype = Ntype.substring(Ntype.length-3,Ntype.length);
          if(!acceptFileTypes.test(Ntype)){
              $("#submit .tips-error").html("文件格式不正确（zip，rar）").show().delay(3000).fadeOut();
              uploadErrors.push('Not an accepted file type');
          }
          if(parseInt(filesize)>10) {
             $("#submit .tips-error").html("文件超过10M大小").show().delay(3000).fadeOut();
              uploadErrors.push('Filesize is too big');
          }
          if(uploadErrors.length==0){
            uploading = true;
            data.submit();
          }
        },
        dataType: 'json',
        autoUpload: true,
        done: function (e, data) {
            $('.work-pro').delay(1000).fadeOut();
            $("#submit .success-msg").show().delay(1000).fadeOut();
            $('.sub-work >span').html('重新上传');
            uploading = false;
        },
        progressall: function (e, data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('.work-pro').show();
            $('#progress .progress-bar').css(
                'width',
                progress + '%'
            );
            $('#progress .progress-bar').html(progress+'%');
        }
    }).prop('disabled', !$.support.fileInput).parent().addClass($.support.fileInput ? undefined : 'disabled');

              

            //下载弹出框提示
            v5_popover_tpl('v5-popover-ewm','ewm','downloadv','bottom','hover');
            var pane = $('.playlist').jScrollPane({
                autoReinitialise: true
            });
            var api = pane.data('jsp');
            api.scrollToElement('.active_null', true);

            // 获取视频开始播放的时间并从该时间播放
            var video_current_time = $.cookie('lesson_256');
            if(!video_current_time) video_current_time = 0;
            player.onReady(function() {
                player.seek(video_current_time);
            });
            player.onComplete(function(){

                getPlayPostion();
                $.cookie('lesson_256', null);

                if(uploading) {
                    return;
                }

                $("#playlist li.active_null").nextAll().find("a").each(function(){
                    lesson_id = $(this).attr("lesson_id");
                    if($(this).next().hasClass('v5-icon-lock')){
                      login_popup("请先登录后再继续免费观看课程视频");
                      return false;
                    }
                    if(lesson_id)
                        location.href = "/lesson/"+lesson_id;
                    return false;
                });
            });
            getPlayPostion();

            // 获取视频的播放进度
            var is_poppup_exam = false; //是否弹出过考试测试框
            function getPlayPostion(){
                //将当前播放实际进度保存到cookie
                current_position = Math.ceil(player.getPosition());
                if(current_position){
                    $.cookie('lesson_256', current_position,{expires:7});
                    
                    //判断视频是否播放到整体进度的95%
                    video_total_time = 1213;
                    if(current_position/video_total_time > 0.95){
                        if(!is_poppup_exam){
                                
                            is_poppup_exam = true;
                        }
                        // 更新是否完成该章节的学习
                        $.get("/lesson/256/update/status/");
                    }
                    
                }
                setTimeout(getPlayPostion,5000)
            }
            
                    
            

            //点击收藏/取消收藏
            $('.favorite').on('click', function (event) {
                event.preventDefault();
                
                    $.ajax({
                        cache: false,
                        type: "get",
                        url:"/course/22/favorite/update",
                        async: true,
                        success: function(data) {
                            if(data.status == 'success'){
                                if(data.message == "收藏成功"){
                                    $('.favorite').children('i').addClass('v5-icon-saved');
                                    $('.favorite').children('span').text('已收藏');
                                }else if(data.message == "取消收藏成功"){
                                    $('.favorite').children('i').removeClass('v5-icon-saved');
                                    $('.favorite').children('span').text('收藏');
                                }
                            }
                        }
                    });
               
            });

        });

    (function ($) {
      //载入相关文章
      var related_article = $('#related-article');
      var bbs_url = related_article.data('url');

      function appendArticle(data) {
        var created = new Date(data.dateline * 1000);
        var year = created.getFullYear();
        var month = '0' + created.getMonth();
        var day = '0' + created.getDay();
        var html = '<div class="media relevant">';
        html += '<div class="media-body">';
        html += '<h4 class="media-heading">';
        html += '<a ' + 'href=' + '"' + bbs_url + '/thread-' + data.tid + '-1-1.html">';
        html += data.subject + '</a>';
        html += '</h4>';
        html += '<p>' + year + '年' + month.substr(month.length-2) + '月' + day.substr(day.length-2) + '日' + '发布</p>';
        html += '</div></div>';
        related_article.append(html);
      }

      $.ajax({
        type: "GET",
        url: bbs_url + '/plugin.php',
        data: {id: 'maiziedu', keywords: '嵌入式linux,高级编程'},
        dataType: "jsonp",
        jsonp: 'callback',

        beforeSend: function (xhr, settings) {

        },

        complete: function (msg) {
        },
        success: function (data) {
          for(var key in data) {
            if(data.hasOwnProperty(key)) {
              appendArticle(data[key]);
            }

          }
        },
        error: function (msg) {
        }
      });
    })(jQuery)
    </script>

<script type="text/javascript">
$(function(){
    $('.share').click(function(){
        sid = $(this).attr('id');
        url = window.location.href;
        title = document.title;
        if(sid =="qq"){
          window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+url+"&title="+title+"&summary="+'内置文案',"_blank");
        }else if(sid =="sina"){
           window.open("http://service.weibo.com/share/share.php?url="+url+"&title="+title,"_blank");
        }
    });
    //微信分享
    $('#wxfx .v5-close').click(function(event){
      event.preventDefault();
      $('#wxfx').modal('hide');
    })
})
</script>


    ﻿
<!--课程支付 弹出框-->
<div class="modal fade" id="paymentModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-v5-xlg">
        <div class="modal-content">
            <div class="modal-header visible-xs visible-sm visible-md">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
              <h4 class="modal-title">购买课程</h4>
            </div>
            <div class="modal-body">
                <p class="text-right visible-lg"><a href="" class="v5-close"><img src="/static/images/c.png"></a></p>
                <div class="payment visible-lg">
                    <h1>如果你想在名师的指导下迅速成为一名嵌入式驱动开发，那就现在报名吧。<br>报名后你将会享受以下服务：</h1>
                    <div class="row payment-con">
                        <div class="col-sm-3">
                            <dl>
                                <dt><img src="/static/images/pay1.png"></dt>
                                <dd>名师一对一指导</dd>
                            </dl>
                        </div>
                        <div class="col-sm-3">
                            <dl>
                                <dt><img src="/static/images/pay2.png"></dt>
                                <dd>在线知识要点自测</dd>
                            </dl>
                        </div>
                        <div class="col-sm-3">
                            <dl>
                                <dt><img src="/static/images/pay3.png"></dt>
                                <dd>真实项目制作</dd>
                            </dl>
                        </div>
                        <div class="col-sm-3">
                            <dl>
                                <dt><img src="/static/images/pay4.png"></dt>
                                <dd>保就业服务</dd>
                            </dl>
                        </div>
                    </div>
                    <div class="row payment-btn">
                        
                        <dl class="dl-radio all-pay">
                            <dt><span class="pay-radio pay-active-radio"></span></dt>
                            <dd class="text-micv5">应付金额:<span>6500</span>元</dd>
                        </dl>
                         <dl class="dl-radio first-pay">
                            <dt><span class="pay-radio"></span></dt>
                            <dd class="text-orange">首付体验:488元</dd>
                        </dl>
                        
                        
                    </div>
                    
                    <div class="row payment-btn coupon-code">
                        <dl>
                            <dd class="text-micv5 coupon-code-dd">有优惠码？</dd>
                            <input id="input-code" type="text" placeholder="请输入优惠码"  maxlength="16">
                            <button class="btn btn-micv5 coupon-code-sub" type="button">提交</button>
                            <span class="coupon-msg">成功信息</span>
<!--                             <div class="tips-error bg-danger text-danger">错误信息</div> -->
<!--                             <div class="tips-error bg-success text-success">成功信息</div> -->
                        </dl>
                    </div>

                    <div class="row payment-btn">
                        <dl class="sub-order">
                            <button class="btn btn-micv5 sub-btn-order" type="button">提交订单</button>
                        </dl>
                    </div>
                     
                </div>
                <div class="visible-xs visible-sm visible-md">
                  <div class="row ">
                    <div class="col-xs-5"><!--<a href="#" class="btn btn-micv5 btn-md btn-block">全额购买</a>--></div>
                    <div class="col-xs-1">手机端或pad暂不支持课程支付</div>
                    <div class="col-xs-6"><!--<a href="#" class="btn btn-orange btn-md btn-block">支付课程余款</a>--></div>
                  </div>
                </div>
            </div>
<!--             <div class="modal-footer payment-footer visible-lg cf">
                <div class="payment-app fl">
                    <dl>
                        <dt><img src="/static/images/gp.png"></dt>
                        <dd>Google  play</dd>
                    </dl>
                    <dl>
                        <dt><img src="/static/images/as.png"></dt>
                        <dd>APPstore</dd>
                    </dl>
                    <dl>
                        <dt><img src="/static/images/gp.png"></dt>
                        <dd>Google  play</dd>
                    </dl>
                    <dl>
                        <dt><img src="/static/images/as.png"></dt>
                        <dd>APPstore</dd>
                    </dl>
                    <dl>
                        <dt><img src="/static/images/gp.png"></dt>
                        <dd>Google  play</dd>
                    </dl>
                    <div class="text-center text-micv5">
                        <p>扫描二维码下载麦子学院移动端</p>
                        <p>可随时随地观看课程</p>
                    </div>
                </div>
                <div class="qrcode visible-lg">
                    <img src="/static/images/qrcode.png">
                </div>
            </div> -->
        </div>
    </div>
</div>

<!-- 选择班级 -->
<div class="modal fade" id="chooseclassModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-v5-xlg select-class">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"></button>
                <h4 class="modal-title" id="chooseclassModalLabel">选择班级</h4>
            </div>
            <div class="modal-body modal-body-class">
                <ul class="class-list cf scroll-pane">
                    
                    <li class_coding="MDD20141101"><span class="radio_btn active_radio"></span>
                    <dl class="b_class">
                        <dd>
                            <span class="class_font"></span>MDD20141101
                        </dd>
                    <dd><span class="ico_teacher"></span><span class="f_sp f_ds">导师:<font style="color:#5ecfba">Rocky</font></span><span class="ico_stu"></span><span class="f_sp">20/25</span><div style="clear:both;"></div></dd>
                    </dl>
                    </li>
                    
                </ul> 
                <div class="chooseclass-btn">
                    <span id="btn-okpay" onclick="goto_pay()">确定购买</span>
                    <input type="hidden" id="cur_careercourse_id" name="cur_careercourse_id" value="1">
                    <input type="hidden" id="cur_lesson_id" name="cur_lesson_id" value="256">
                    <input type="hidden" id="careercourse_class" name="careercourse_class" value="">
                </div>
            </div>
        </div>
    </div>
</div>



<script>
    var choose_class_coding,choose_pay_type
    $(function(){
        $('#input-code').val('');
        $('.modal-body-class ul li:last .b_class').css("border","0px");
        choose_class_coding = $(".class-list li:first").attr("class_coding");
        if(typeof(choose_class_coding)=='undefined'){
            $("#btn-okpay").html('没有可选班级').attr('onclick',"return false;");
        }
        $('.v5-close').click(function(event){
            event.preventDefault();
            $('#paymentModal').modal('hide');
        });

        $('.sub-btn-order').click(function(){pay_next(0);});
        $('.dl-radio').click(function(){
            $(this).find('.pay-radio').addClass('pay-active-radio');
            $(this).siblings().find('.pay-radio').removeClass('pay-active-radio');
            classname = $(this).attr("class").split(" ")[1];
            if(classname !='all-pay'){
                $('.sub-btn-order').click(function(){
                    pay_next(1);
                });
                $('.coupon-code').css("visibility","hidden");
                $('.coupon-msg').css({'visibility':'hidden'});
            }else{
                $('.sub-btn-order').click(function(){
                    pay_next(0);
                });
                $('.coupon-code').css("visibility","visible");
            }
        });
        // alert($('.pay-active-radio').hasClass('all-pay'));
        var allpay = parseInt($('.all-pay dd span').html());
        $('.coupon-code-sub').click(function() {
            CouponCode = $('#input-code').val();
            $.ajax({
                type: "GET",
                async: false,
                url: "/common/coupon/vlidate/?CouponCode="+CouponCode+'&careercourse=1',
                dataType: "json",
                success: function(data){
                    if(data.status == 'failure'){
                        $('.coupon-msg').css({'color':'#f17265','visibility':'visible'}).html(data.message);
                        $('.all-pay dd span').html(allpay);
                    }else if(data.status == 'success'){
                        $('.coupon-msg').css({'color':'#1abc9c','visibility':'visible'}).html(data.message+',立减'+data.money+'元');
                        price = allpay - parseInt(data.money);
                        $('.all-pay dd span').html(price);
                    }
                }
            });
        });
        $('.close').click(function(event) {
            clear_int(allpay);
        });
        $('.v5-close').click(function(event) {
            clear_int(allpay);
        });
        $('.class-list li').click(function(event){
            event.preventDefault();
            choose_class_coding = $(this).attr("class_coding");
            $(this).find('.radio_btn').addClass('active_radio');
            if($(this).find('.radio_btn').hasClass('active_radio')){
                $(this).siblings().find('.radio_btn').removeClass('active_radio');
                // $('#btn-okpay').removeClass('btn-micv5-disabled1').removeAttr('disabled');
                $("#btn-okpay").html('确定购买').attr('onclick',"goto_pay()");
            }else{
                $("#btn-okpay").html('没有可选班级').attr('onclick',"return false;");
            }
        });
        $('.class-list').jScrollPane({
           autoReinitialise: true
        });
    });
    function clear_int(allpay){
        $('.all-pay dd span').html(allpay);
        $('#input-code').val('');
        $('.coupon-msg').css({'visibility':'hidden'});
    }
    function pay_next(pay_type){
        choose_pay_type = pay_type
        if(pay_type == 0 || pay_type == 1){
            $('#paymentModal').modal('hide');
            $('#chooseclassModal').modal('show');
        }else if(pay_type == 2){
            choose_class_coding = $("#careercourse_class").val()
            goto_pay()
        }else{
            alert("未知支付方式")
        }
    }

    function goto_pay(){
        cur_url = window.location.pathname;
        if(cur_url.indexOf("lesson")>0)
            url = "/pay/go/"+$("#cur_careercourse_id").val()+"/0/lesson/"+$("#cur_lesson_id").val()+"/"+choose_pay_type+"/"+choose_class_coding
        else if(cur_url.indexOf("course")>0)
            url = "/pay/go/"+$("#cur_careercourse_id").val()+"/0/course/"+$("#cur_careercourse_id").val()+"/"+choose_pay_type+"/"+choose_class_coding
        else if(cur_url.indexOf("learning/plan")>0)
            url = "/pay/go/"+$("#cur_careercourse_id").val()+"/0/learning_plan/"+$("#cur_careercourse_id").val()+"/"+choose_pay_type+"/"+choose_class_coding
        window.location.href = url;
    }
</script>

    





</body>
</html>

